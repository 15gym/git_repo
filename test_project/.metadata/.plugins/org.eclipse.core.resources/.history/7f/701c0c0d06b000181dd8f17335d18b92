<%@ page language="java" contentType="text/html; charset=UTF-8" pageEncoding="UTF-8"%>
<%@ taglib prefix="c" uri="http://java.sun.com/jsp/jstl/core"%>
<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title></title>
<link rel="stylesheet" href="css.reset.css" />
<link rel="stylesheet" href="css.common.css" />
<style type="text/css">
	form > span { display: none; }
	
</style>
<script type="text/javascript" src="js/jquery-3.3.1.min.js"></script>
<script type="text/javascript">
	$(function() {
		$("#category1").load("ajax/text/category-data.html #category1-1",
				function() {
			        $(this).show();
				}
		);
		
		$(document).on("change", "#category2 > select", function() {
			$("#category2").empty().hide();
			$("#category3").empty().hide();
			
			var target = $(this).find("option:selected").attr("data-target");
			var selector = "ajax/text/category-data.html" + target;
			$("#category2").load(selector, function() {
				$(this).show();
			});
		});
	});
</script>
</head>
<body>
	<h1 class="title">동적 드롭다운</h1>
	<div class="exec">
		<form action="">
			<span id="category1"></span>
			<span id="category2"></span>
			<span id="category3"></span>
		</form>
	</div>
	
	<div class="console" id="result"></div>
</body>
</html>